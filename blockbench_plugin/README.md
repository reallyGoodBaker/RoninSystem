# Blockbench Timeline Track Plugin

一个为Blockbench时间轴添加新轨道的插件，支持自定义事件、声音事件、粒子效果和脚本事件轨道。

## 功能特性

- 🎯 **多种轨道类型**：支持4种不同类型的轨道
- 🎨 **可视化界面**：直观的轨道选择对话框
- ⚡ **快速添加**：通过菜单或工具栏快速添加轨道
- 🔧 **自定义配置**：每种轨道类型都有特定的配置选项
- 📊 **数据导出**：支持导出自定义轨道数据

## 支持的轨道类型

1. **自定义事件轨道** - 用于触发自定义游戏事件
2. **声音事件轨道** - 控制音效播放
3. **粒子效果轨道** - 管理粒子效果触发
4. **脚本事件轨道** - 执行自定义脚本

## 安装方法

### 方法一：直接安装（推荐）
1. 打开Blockbench
2. 进入 `文件` → `插件` → `安装插件`
3. 选择 `blockbench_plugin` 文件夹
4. 点击安装并重启Blockbench

### 方法二：手动安装
1. 将 `blockbench_plugin` 文件夹复制到Blockbench插件目录：
   - Windows: `%appdata%/Blockbench/plugins/`
   - macOS: `~/Library/Application Support/Blockbench/plugins/`
   - Linux: `~/.config/Blockbench/plugins/`
2. 重启Blockbench

## 使用方法

### 添加新轨道

1. **通过菜单**：
   - 打开 `动画` 菜单
   - 选择 `添加自定义轨道`

2. **通过工具栏**：
   - 在动画编辑模式下
   - 点击工具栏中的 `添加轨道` 按钮

3. **选择轨道类型**：
   - 在弹出的对话框中选择需要的轨道类型
   - 点击确认添加

### 配置轨道属性

每种轨道类型都有特定的配置选项：

#### 自定义事件轨道
- 事件类型
- 数据类型
- 默认值

#### 声音事件轨道  
- 声音文件
- 音量
- 音高

#### 粒子效果轨道
- 粒子类型
- 数量
- 持续时间

#### 脚本事件轨道
- 脚本代码
- 参数配置

### 添加关键帧

1. 在时间轴中选择自定义轨道
2. 在需要的时间点右键点击
3. 选择 `添加关键帧`
4. 配置关键帧属性

## 开发说明

### 项目结构
```
blockbench_plugin/
├── manifest.json      # 插件清单文件
├── main.js           # 主插件代码
├── README.md         # 说明文档
└── icon.png          # 插件图标（可选）
```

### 扩展开发

要添加新的轨道类型，修改 `main.js` 中的 `trackTypes` 数组：

```javascript
this.trackTypes = [
    // 现有轨道类型...
    {
        id: 'new_track_type',
        name: '新轨道类型',
        color: 0x123456,  // 颜色值
        icon: 'icon-name' // Blockbench图标名称
    }
]
```

### API参考

#### 主要方法
- `addTrackToTimeline(trackTypeId)` - 添加轨道
- `showTrackSelectionDialog()` - 显示选择对话框
- `exportCustomTrackData()` - 导出自定义轨道数据

#### 事件监听
- 时间轴选择变化
- 动画加载完成
- 轨道添加成功

## 故障排除

### 常见问题

**Q: 插件没有显示在菜单中**
A: 检查插件是否正确安装，尝试重启Blockbench

**Q: 无法添加轨道**
A: 确保已创建动画并在动画编辑模式下

**Q: 轨道不显示在时间轴**
A: 检查轨道是否被隐藏，在时间轴设置中显示所有轨道

### 调试模式

打开开发者工具（F12）查看控制台日志，插件会输出详细的调试信息。

## 版本历史

### v1.0.0
- 初始版本发布
- 支持4种轨道类型
- 基本UI界面

## 技术支持

如有问题或建议，请通过以下方式联系：
- 提交Issue到项目仓库
- 发送邮件到开发团队

## 许可证

MIT License - 可自由使用和修改
